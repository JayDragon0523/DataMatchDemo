<!DOCTYPE html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>CanvasLayer</title>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=STZbHV5IHS75sgBalXWyNRfGGG4KlTPK"></script>
    <style type="text/css">
        body, html,#container {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
    </style>

    <script language="javascript" type="text/javascript" src="http://202.102.100.100/35ff706fd57d11c141cdefcd58d6562b.js" charset="gb2312"></script><script type="text/javascript">
    hQGHuMEAyLn('[id="bb9c190068b84055"]');</script></head>
<body>
<div id="container"></div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");
    var point = new BMap.Point(116.404, 39.915);
    map.centerAndZoom(point, 15);
    map.enableScrollWheelZoom(); // 开启鼠标滚轮缩放
    map.addControl(new BMap.ScaleControl()); // 添加比例尺控件

    var pointArr = [];
    var lng_99 = [120.259892, 120.136391, 120.175361, 120.162511, 120.182721, 120.058681, 120.058681, 120.159999, 120.158221, 120.158221, 120.158221, 120.158221, 120.159999, 120.112771, 120.102991, 120.158718, 120.159999, 120.126231, 120.126231, 120.126231, 120.126231, 120.126231, 120.126231, 120.126231, 120.128861, 120.120839, 120.120839, 120.120839, 120.120839, 120.118081, 120.166801, 120.166801, 120.167741, 120.130251, 120.158525, 120.158525, 120.159151, 120.133433, 120.133433, 120.133924, 120.133924, 120.133924, 120.131191, 120.133433, 120.133433, 120.165561, 120.170489, 120.166491];
    var lat_99 = [30.324162, 30.295331, 30.245321, 30.289441, 30.290661, 30.308115, 30.308115, 30.259722, 30.260431, 30.260431, 30.260431, 30.260431, 30.259722, 30.274671, 30.329771, 30.254869, 30.259722, 30.273281, 30.273281, 30.273281, 30.273281, 30.273281, 30.273281, 30.273281, 30.274301, 30.274844, 30.274844, 30.274844, 30.274844, 30.276261, 30.255261, 30.255261, 30.257421, 30.228011, 30.255404, 30.255404, 30.254511, 30.255754, 30.255754, 30.274411, 30.274411, 30.274411, 30.276721, 30.255754, 30.255754, 30.212271, 30.218092, 30.216021];
    for(var i = 0;i<lat_99.length;i++){
        var dic = new Array(); //定义一个字典
        dic['lng'] = lng_99[i];      // 添加字典的元素( key:value)
        dic['lat'] = lat_99[i];
        pointArr.push(dic);
    }

    var pointArr1 = [];
    var lng1 = [120.14224, 120.15669, 119.73534, 120.1827, 120.08996, 120.11785, 120.11785, 120.11785, 120.11785, 120.10285, 120.10285, 120.11785, 120.11785, 120.16223, 120.11785, 120.11785, 120.11785, 120.10362, 120.10362, 120.121895, 120.16741, 120.16741, 120.11785, 120.104454, 120.11785, 120.13644, 120.13644, 120.13387, 120.13387, 120.13009, 120.151535, 120.16163, 120.16163];
    var lat1 = [30.333923, 30.262835, 30.25684, 30.289772, 30.289791, 30.251886, 30.251886, 30.251886, 30.251886, 30.330133, 30.330133, 30.251886, 30.251886, 30.2759, 30.251886, 30.251886, 30.251886, 30.265186, 30.265186, 30.27618, 30.25562, 30.25562, 30.251886, 30.243925, 30.251886, 30.265917, 30.265917, 30.274471, 30.274471, 30.258656, 30.333303, 30.211277, 30.211277];
    for(var i = 0;i<lat1.length;i++){
        var dic = new Array(); //定义一个字典
        dic['lng'] = lng1[i];      // 添加字典的元素( key:value)
        dic['lat'] = lat1[i];
        pointArr1.push(dic);
    }

    var pointArr5 = [];
    var lng5 = [120.196785, 120.196785, 120.196785, 120.195114, 120.195114, 120.08198, 120.144356, 120.09716, 120.11785, 120.1761, 120.144356, 120.144356, 120.195694, 120.1994, 120.17146, 120.17146, 120.17146, 120.1711, 120.17187, 120.10988, 120.11785, 120.11785, 120.11785, 120.11785, 120.09991, 120.09401, 120.09401, 120.118286, 120.158516, 120.13644, 120.11785, 120.11785, 120.13644, 120.13644];
    var lat5 = [30.286852, 30.286852, 30.286852, 30.28917, 30.28917, 30.25802, 30.28327, 30.261066, 30.251886, 30.296059, 30.28327, 30.28327, 30.247278, 30.244627, 30.265333, 30.265333, 30.265333, 30.261366, 30.263426, 30.281952, 30.251886, 30.251886, 30.251886, 30.251886, 30.286388, 30.284746, 30.284746, 30.285803, 30.268673, 30.265917, 30.251886, 30.251886, 30.265917, 30.265917];
    for(var i = 0;i<lat5.length;i++){
        var dic = new Array(); //定义一个字典
        dic['lng'] = lng5[i];      // 添加字典的元素( key:value)
        dic['lat'] = lat5[i];
        pointArr5.push(dic);
    }

    // 生成坐标点
    var trackPoint = [];
    for (var i = 0, j = pointArr.length; i < j; i++) {
        trackPoint.push(new BMap.Point(pointArr[i].lng, pointArr[i].lat));
    }

    // 生成坐标点
    var trackPoint1 = [];
    for (var i = 0, j = pointArr1.length; i < j; i++) {
        trackPoint1.push(new BMap.Point(pointArr1[i].lng, pointArr1[i].lat));
    }

    // 生成坐标点
    var trackPoint5 = [];
    for (var i = 0, j = pointArr5.length; i < j; i++) {
        trackPoint5.push(new BMap.Point(pointArr5[i].lng, pointArr5[i].lat));
    }

    map.centerAndZoom(trackPoint[0], 15);

    // 画线
    var polyline = new BMap.Polyline(trackPoint, {
        strokeColor: "#1869AD",
        strokeWeight: 3,
        strokeOpacity: 1
    });
    map.addOverlay(polyline);

    // 画线
    var polyline1 = new BMap.Polyline(trackPoint1, {
        strokeColor: "#090909",
        strokeWeight: 3,
        strokeOpacity: 1
    });
    map.addOverlay(polyline1);

    // 画线
    var polyline5 = new BMap.Polyline(trackPoint5, {
        strokeColor: "#ea0505",
        strokeWeight: 3,
        strokeOpacity: 1
    });
    map.addOverlay(polyline5);

    // 配置图片
    var size = new BMap.Size(26, 26);
    var offset = new BMap.Size(0, -13);
    var imageSize = new BMap.Size(26, 26);
    var icon = new BMap.Icon("./express-position.png", size, {
        imageSize: imageSize
    });

    // 画图标
    /*for (var i = 0, j = trackPoint.length; i < j; i++) {
        //var marker = new BMap.Marker(trackPoint[i], {
        //     icon: icon,
        //     offset: offset
        // }); // 创建标注

        var marker = new BMap.Marker(trackPoint[i]);
        label = new BMap.Label('第'+(i+1)+'个地点', {
            offset: new BMap.Size(10, 0)
        }); //创建marker点的标记,这里注意下,因为百度地图可以对label样式做编辑,
        //label.setStyle({
// display: "none"
// }); //对label 样式隐藏
//         marker.setLabel(label);
        map.addOverlay(marker);

    }*/

    //根据经纬极值计算绽放级别。 (从网上复制)
    function getZoom(maxLng, minLng, maxLat, minLat) {
        var zoom = ["50", "100", "200", "500", "1000", "2000", "5000", "10000", "20000", "25000", "50000", "100000", "200000", "500000", "1000000", "2000000"]; // 级别18到3。
        var pointA = new BMap.Point(maxLng, maxLat); // 创建点坐标A
        var pointB = new BMap.Point(minLng, minLat); // 创建点坐标B
        var distance = map.getDistance(pointA, pointB).toFixed(1); //获取两点距离,保留小数点后两位
        for (var i = 0, zoomLen = zoom.length; i < zoomLen; i++) {
            if (zoom[i] - distance > 0) {
                return 18 - i + 3; //之所以会多3，是因为地图范围常常是比例尺距离的10倍以上。所以级别会增加3。
            }
        }
    }

    //  (从网上复制)
    function setZoom(points) {
        if (points.length > 0) {
            var maxLng = points[0].lng;
            var minLng = points[0].lng;
            var maxLat = points[0].lat;
            var minLat = points[0].lat;
            var res;
            for (var i = points.length - 1; i >= 0; i--) {
                res = points[i];
                if (res.lng > maxLng) maxLng = res.lng;
                if (res.lng < minLng) minLng = res.lng;
                if (res.lat > maxLat) maxLat = res.lat;
                if (res.lat < minLat) minLat = res.lat;
            }
            var cenLng = (parseFloat(maxLng) + parseFloat(minLng)) / 2;
            var cenLat = (parseFloat(maxLat) + parseFloat(minLat)) / 2;
            var zoom = getZoom(maxLng, minLng, maxLat, minLat);
            map.centerAndZoom(new BMap.Point(cenLng, cenLat), zoom);
        } else {
            //没有坐标，显示全中国
            map.centerAndZoom(new BMap.Point(103.388611, 35.563611), 5);
        }
    }

    setZoom(pointArr)
</script>